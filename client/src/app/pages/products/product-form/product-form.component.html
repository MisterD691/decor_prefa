<div class="body">
  <app-header [isBig]="false"></app-header>
  
  <div class="container-fluid py-5">
    <div class="container">
      <h3 class="my-4 color-primary">
        <strong *ngIf="!productId">Ajouter nouveau produit</strong>
        <strong *ngIf="productId">Editer produit</strong>
      </h3>
      <div class="row">
        <div class="col-6">
          <form>
            <div class="row">
              <div class="form-group col-12 mb-3">
                <label for="title">Titre</label>
                <input type="text" class="form-control" name="title" [(ngModel)]="product.title" placeholder="Titre" required>
              </div>
              <div class="form-group col-12 mb-3">
                <label for="quantity">Quantité</label>
                <input type="number" class="form-control" name="quantity" [(ngModel)]="product.quantity" placeholder="Quantité" required>
              </div>
              <div class="form-group col-12 mb-3">
                <label for="price">Prix</label>
                <input type="number" class="form-control" name="price" [(ngModel)]="product.price" placeholder="Prix" required>
              </div>
              <div class="form-group col-12 mb-3">
                <label for="category">Categorie</label>
                <select name="category" id="category" class="form-control" [(ngModel)]="product.categoryId" required>
                  <option value="{{cat._id}}" *ngFor="let cat of categories">{{ cat.label }}</option>
                </select>
              </div>
              <div class="form-group col-12 mb-3">
                <label for="description">Description</label>
                <textarea name="description" id="description" rows="8" name="description" [(ngModel)]="product.description"  class="form-control" placeholder="Description..." required></textarea>
              </div>
              <div class="form-group col-12">
                <button type="button" class="btn bck-primary btn-block" (click)="saveProduct()">Enregistrer</button>
              </div>
            </div>
          </form>
        </div>
        <div class="col-1"></div>
        <div class="col-5">
          <div class="d-flex justify-content-center">
            <img alt="Image produit" [src]="product.picture" width="350px" *ngIf="product.picture">
          </div>
          <div class="mt-2">Charger la photo
            <input
              type="file"
              #imageInput
              accept="image/*"
              (change)="fileChangeEvent($event)"
              class="form-control"
            />
          </div>
        </div>
      </div>
    </div>
  </div>

</div>
<app-footer></app-footer>

<ngx-loading
    [show]="loading"
    [config]="config"
  >
</ngx-loading>